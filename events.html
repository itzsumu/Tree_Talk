<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events | TreeTalk</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">Tree<span>Talk</span></a>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="post.html">Posts</a></li>
                    <li><a href="events.html" class="active">Events</a></li>
                    <li><a href="marketplace.html">Marketplace</a></li>
                    <li><a href="profile.html">Profile</a></li>
                    <li><a href="auth.html">Login/SignUp</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Add Event Post Button centered and small -->
        <div style="display: flex; justify-content: center; align-items: center; margin-top: 20px;">
            <button id="event-post-btn"
                class="btn btn-primary"
                style="
                    width: 140px;
                    padding: 8px 0;
                    font-size: 1em;
                    border-radius: 7px;
                    margin: 0 auto;
                    display: block;
                    background: #40916c;
                    border: none;
                    box-shadow: 0 2px 0 #b7e4c7;
                    position: relative;
                ">
                Event Post
            </button>
        </div>

        <!-- Create Event Form (hidden by default initially) -->
        <section class="create-event py-2" id="create-event-section" style="display:none;">
            <h2>Create New Event</h2>
            <form class="event-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="event-title">Event Title</label>
                        <input type="text" id="event-title" placeholder="Enter event title" required>
                    </div>
                    <div class="form-group">
                        <label for="event-date">Event Date</label>
                        <input type="date" id="event-date" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="event-location">Location</label>
                    <input type="text" id="event-location" placeholder="Enter event location" required>
                </div>
                <div class="form-group">
                    <label for="event-description">Description</label>
                    <textarea id="event-description" rows="4" placeholder="Describe your event..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="event-category">Category</label>
                    <select id="event-category" required>
                        <option value="">Select a category</option>
                        <option value="planting">Tree Planting</option>
                        <option value="workshop">Workshop</option>
                        <option value="conservation">Conservation</option>
                        <option value="social">Social Gathering</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="event-image">Event Image</label>
                    <input type="file" id="event-image" accept="image/*">
                </div>
                <div class="form-actions" style="display: flex; justify-content: center;">
                    <button type="submit" class="btn btn-primary" style="width: 100px; min-width: 80px; max-width: 120px; padding: 6px 0; font-size: 1em;">
                        Create Event
                    </button>
                    <button type="reset" class="btn" style="margin-left: 12px;">Cancel</button>
                </div>
            </form>
        </section>

        <section class="events-list py-2">
            <!-- Events will be added here dynamically -->
        </section>
    </main>

 <footer class="simple-footer">
  <div class="container">
    <div class="footer-box" style="text-align: center;">
      <h3 style="margin-bottom: 18px;">Connect With Us</h3>
      <div class="contact-line" style="margin-bottom: 18px;">
        <span class="contact-icon" style="color:#ff69b4;font-size:1.5em;vertical-align:middle;">&#128222;</span>
        <span style="margin-left:8px;font-size:1.15em;vertical-align:middle;">+8801747-525412</span>
      </div>
      <button 
        onclick="window.location.href='mailto:sumaiya.islam1.cse@ulab.edu.bd';"
        style="
          background: #333;
          border: none;
          border-radius: 50%;
          width: 56px;
          height: 56px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          margin: 0 auto;
          box-shadow: 0 2px 8px rgba(0,0,0,0.12);
          transition: background 0.2s;
        "
        aria-label="Email"
      >
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
          <rect width="24" height="24" rx="12" fill="#333"/>
          <path d="M6 8h12v8H6V8zm0 0l6 5 6-5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
      </button>
    </div>
  </div>
</footer>


    <script>
        // Toggle create event form
        document.getElementById('event-post-btn').addEventListener('click', function() {
            const section = document.getElementById('create-event-section');
            section.style.display = 'block'; // Always show, never hide
        });

        document.querySelector('.event-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const title = document.getElementById('event-title').value;
            const date = document.getElementById('event-date').value;
            const location = document.getElementById('event-location').value;
            const description = document.getElementById('event-description').value;
            const category = document.getElementById('event-category').value;
            
            // Format date for display
            const formattedDate = new Date(date).toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
            
            // Get category label
            const categoryLabel = document.getElementById('event-category').options[document.getElementById('event-category').selectedIndex].text;
            
            // Create new event card
            const eventsList = document.querySelector('.events-list');
            const newEvent = document.createElement('div');
            newEvent.className = 'event-card mb-2';
            newEvent.style.boxShadow = "0 4px 16px rgba(44, 62, 80, 0.10)";
            newEvent.style.background = "#fafdff";
            newEvent.style.borderRadius = "14px";
            newEvent.style.marginBottom = "32px";
            newEvent.style.overflow = "hidden";
            newEvent.style.transition = "box-shadow 0.2s";
            newEvent.onmouseover = () => newEvent.style.boxShadow = "0 8px 24px rgba(44, 62, 80, 0.18)";
            newEvent.onmouseout = () => newEvent.style.boxShadow = "0 4px 16px rgba(44, 62, 80, 0.10)";
            newEvent.innerHTML = `
    <div style="display:flex;align-items:flex-start;gap:22px;padding:22px 22px 18px 22px;">
        <img src="images/event-placeholder.jpg" alt="Event Image" class="event-image" style="width:130px;height:130px;object-fit:cover;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.07);flex-shrink:0;">
        <div style="flex:1;">
            <div style="display:flex;align-items:center;gap:10px;">
                <img src="images/user1.jpg" alt="User" class="avatar" style="width:44px;height:44px;border-radius:50%;object-fit:cover;border:2px solid #b7e4c7;">
                <div>
                    <div class="event-username" style="font-weight:700;font-size:1.08em;color:#184d27;">User Name</div>
                    <span class="event-date" style="font-size:0.97em;color:#5c7f67;">${formattedDate}</span>
                    <span class="event-category ${category}" style="display:inline-block;margin-left:8px;background:#e6f4ea;color:#2d6a4f;padding:3px 12px;border-radius:6px;font-size:0.98em;font-weight:500;">${categoryLabel}</span>
                </div>
            </div>
            <h3 style="margin:14px 0 7px 0;font-size:1.35em;color:#1b4332;">${title}</h3>
            <p class="event-description" style="margin-bottom:10px;color:#222;">${description}</p>
            <div style="display:flex;align-items:center;gap:16px;">
                <span class="event-location" style="font-size:1em;color:#40916c;">üìç ${location}</span>
                <span style="font-size:0.98em;color:#6c757d;">${formattedDate}</span>
            </div>
            <div class="event-actions" style="margin-top:14px;">
                <button class="btn btn-primary interested-btn" style="background:#40916c;border:none;padding:7px 22px;border-radius:6px;font-weight:600;font-size:1em;transition:background 0.2s;">Interesting New</button>
            </div>
        </div>
    </div>
`;
            
            // Insert new event at the top of the list
            eventsList.insertBefore(newEvent, eventsList.firstChild);
            
            // Reset form
            this.reset();
            
            // Show success message
            alert('Event created successfully!');
        });

        // Handle interested button clicks
        document.addEventListener('click', function(e) {
            if (e.target && e.target.classList.contains('interested-btn')) {
                const btn = e.target;
                const attendeesCount = btn.nextElementSibling;
                
                if (!btn.classList.contains('interested-confirmed')) {
                    // Increment count
                    const currentCount = parseInt(attendeesCount.textContent);
                    attendeesCount.textContent = currentCount + 1;
                    
                    // Update button state
                    btn.textContent = 'Interested ‚úì';
                    btn.classList.add('interested-confirmed');
                    
                    // Change button style
                    btn.style.backgroundColor = '#2d6a4f';
                    btn.style.cursor = 'default';
                }
            }
        });
    </script>
</body>
</html>
